<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EduQuest | Learn & Solve</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
</head>
<body>
    <header>
        <nav>
            <div class="logo">EduQuest</div>
            <div class="nav-links">
                <a href="#games">Games</a>
                <a href="#doubts">Doubts</a>
                <a href="#leaderboard">Leaderboard</a>
                <span id="user-points">Points: 0</span>
                <button id="logout-btn" onclick="location.href='/api/logout'">Logout</button>
            </div>
        </nav>
    </header>

    <main id="app">
        <!-- Content injected by script.js -->
        <section id="welcome-section">
            <h1>Welcome to your Learning Journey!</h1>
            <p>Pick a game or help a friend with their doubts.</p>
        </section>
    </main>

    <script src="script.js">
    // Global State
let currentUser = null;
let points = 0;

// API Helpers
async function apiFetch(endpoint, options = {}) {
    const res = await fetch(endpoint, options);
    if (res.status === 401) window.location.href = '/api/login';
    return res.json();
}

// Initialize App
async function init() {
    currentUser = await apiFetch('/api/auth/user');
    const stats = await apiFetch('/api/user/stats');
    points = stats.points;
    document.getElementById('user-points').innerText = `Points: ${points}`;
    renderHome();
}

// Example: Submit a score to the backend
async function winGame(score) {
    await apiFetch('/api/games/score', {
        method: 'POST',
        headers: { 'Content-Type':
            </script>'
</body>
</html>
