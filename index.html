<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MentorLoop EDU</title>

<style>
body{
font-family: Arial, sans-serif;
margin:0;
background:#f4f6fb;
}

header{
background:#1e40af;
color:white;
padding:15px;
display:flex;
justify-content:space-between;
align-items:center;
}

button{
padding:8px 14px;
border:none;
border-radius:6px;
cursor:pointer;
background:#2563eb;
color:white;
}

button:hover{
background:#1d4ed8;
}

.container{
padding:20px;
}

.grid{
display:grid;
grid-template-columns: repeat(auto-fit, minmax(300px,1fr));
gap:20px;
}

.card{
background:white;
padding:15px;
border-radius:10px;
box-shadow:0 4px 10px rgba(0,0,0,0.05);
}

.badge{
display:inline-block;
background:#e0e7ff;
color:#1e40af;
padding:5px 10px;
border-radius:20px;
margin:4px;
font-size:14px;
}

input, textarea{
width:100%;
padding:8px;
margin:5px 0;
border-radius:6px;
border:1px solid #ccc;
}
</style>
</head>

<body>

<header>
<h2>MentorLoop EDU</h2>
<div>Points: <span id="points">0</span></div>
</header>

<div class="container">
<div class="grid">

<!-- Ask Doubt -->
<div class="card">
<h3>Ask a Doubt</h3>
<textarea id="questionInput" placeholder="Type your question..."></textarea>
<button onclick="addQuestion()">Submit Question (+10)</button>
</div>

<!-- Questions -->
<div class="card">
<h3>Community Questions</h3>
<div id="questionList"></div>
</div>

<!-- Mini Game -->
<div class="card">
<h3>Math Mini Game üéÆ</h3>
<p id="gameQuestion"></p>
<input type="number" id="gameAnswer" placeholder="Your Answer">
<button onclick="checkAnswer()">Submit</button>
<p id="gameResult"></p>
</div>

<!-- Badges -->
<div class="card">
<h3>Your Badges üèÜ</h3>
<div id="badges"></div>
</div>

</div>
</div>

<script>
let points = localStorage.getItem("points") ? parseInt(localStorage.getItem("points")) : 0;
let questions = localStorage.getItem("questions") ? JSON.parse(localStorage.getItem("questions")) : [];

document.getElementById("points").innerText = points;

function saveData(){
localStorage.setItem("points", points);
localStorage.setItem("questions", JSON.stringify(questions));
updateBadges();
}

function addPoints(p){
points += p;
document.getElementById("points").innerText = points;
saveData();
}

function addQuestion(){
let q = document.getElementById("questionInput").value;
if(q.trim() === "") return;

questions.push({text:q, answers:[]});
addPoints(10);
document.getElementById("questionInput").value="";
renderQuestions();
saveData();
}

function renderQuestions(){
let list = document.getElementById("questionList");
list.innerHTML = "";

questions.forEach((q,index)=>{
let div = document.createElement("div");
div.innerHTML = `
<p><b>Q:</b> ${q.text}</p>
<input type="text" id="answer${index}" placeholder="Write answer...">
<button onclick="addAnswer(${index})">Answer (+15)</button>
<hr>
`;
list.appendChild(div);
});
}

function addAnswer(index){
let answerText = document.getElementById("answer"+index).value;
if(answerText.trim() === "") return;

questions[index].answers.push(answerText);
addPoints(15);
renderQuestions();
saveData();
}

function updateBadges(){
let badgeDiv = document.getElementById("badges");
badgeDiv.innerHTML = "";

if(points >= 50) badgeDiv.innerHTML += '<span class="badge">Rising Star ‚≠ê</span>';
if(points >= 100) badgeDiv.innerHTML += '<span class="badge">Helper Hero ü¶∏</span>';
if(points >= 200) badgeDiv.innerHTML += '<span class="badge">Mentor Master üëë</span>';
}

renderQuestions();
updateBadges();


// MINI GAME
let num1, num2;

function newGame(){
num1 = Math.floor(Math.random()*10);
num2 = Math.floor(Math.random()*10);
document.getElementById("gameQuestion").innerText = `What is ${num1} + ${num2}?`;
}

function checkAnswer(){
let userAns = parseInt(document.getElementById("gameAnswer").value);
if(userAns === num1 + num2){
document.getElementById("gameResult").innerText = "Correct! +20 points";
addPoints(20);
}else{
document.getElementById("gameResult").innerText = "Wrong answer!";
}
document.getElementById("gameAnswer").value="";
newGame();
}

newGame();
</script>

</body>
</html>
